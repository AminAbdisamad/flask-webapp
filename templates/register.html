{% extends 'layout.html'%}
<!-- Adds layout page to the top of this file -->
{% block content %}
<h1 class="title">Register Form</h1>
<!-- Display notification -->
{% with messages = get_flashed_messages (with_categories = true)%} {% if
messsages %} {% for message in messages%}

<div class="notification is-primary is-light">
  <button class="delete"></button>
  {{message}}
</div>
{%endfor%} {%endif%} {%endwith%}

<form method="POST" action="">
  <!--Prevents against CRF attacks -->
  {{register.hidden_tag()}}
  <div class="field">
    <p class="control has-icons-left has-icons-right">
      {{register.username.label(class="label")}} 
      {%if register.username.errors%}
      {%for error in register.username.errors %}
        {{register.username(class="input is-danger")}} 
        <div class="has-text-weight-light has-text-danger">
      {{error}}
      </div>
      {%endfor%} 
      {%else%}
      {{register.username(class="input")}}
      {%endif%}
    </p>
  </div>
  <div class="field">
    <p class="control has-icons-left has-icons-right">
      {{register.email.label(class="label")}}
      {%if register.email.errors%}
      {%for error in register.email.errors %}
        {{register.email(class="input is-danger")}} 
        <div class="has-text-weight-light has-text-danger">
      {{error}}
      </div>
      {%endfor%} 
      {%else%}
      {{register.email(class="input")}}
      {%endif%}

    </p>
  </div>
  <div class="field">
    <p class="control has-icons-left">
      {{register.password.label(class="label")}}
      {%if register.password.errors%}
      {%for error in register.password.errors %}
        {{register.password(class="input is-danger")}} 
        <div class="has-text-weight-light has-text-danger">
      {{error}}
      </div>
      {%endfor%} 
      {%else%}
      {{register.password(class="input")}}
      {%endif%}
    </p>
  </div>

  <div class="field">
    <p class="control has-icons-left">
      {{register.confirmPassword.label(class="label")}}
      {%if register.confirmPassword.errors%}
      {%for error in register.confirmPassword.errors %}
        {{register.confirmPassword(class="input is-danger")}} 
        <div class="has-text-weight-light has-text-danger">
      {{error}}
      </div>
      {%endfor%} 
      {%else%}
      {{register.confirmPassword(class="input")}}
      {%endif%}
    </p>
  </div>
  <div class="field">
    <p class="control has-icons-left">
      {{register.submit(class="button is-primary")}}
    </p>
  </div>
</form>
{%endblock%}
